# Slack Listener Configuration Example
# Copy this file to config.yaml and fill in your values
#
# This application uses OpenRouter for all LLM calls, which provides unified
# access to multiple model providers (Anthropic Claude, OpenAI GPT, etc.)
#
# Get your OpenRouter API key at: https://openrouter.ai/keys
# Set API keys in .env file and reference them with ${VARIABLE_NAME}

# Channel configurations
channels:
  # Example 1: Using Claude 3.5 Sonnet via OpenRouter
  - channel_id: "C01234567"
    channel_name: "support"
    enabled: true
    keywords:
      - "help"
      - "issue"
      - "problem"
      - "error"
    case_sensitive: false

    # LLM configuration - OpenRouter
    llm:
      api_key: "${OPENROUTER_API_KEY}"  # From .env file
      model: "anthropic/claude-3.5-sonnet"  # OpenRouter model identifier
      max_tokens: 1024
      temperature: 0.7
      # base_url: "https://openrouter.ai/api/v1"  # Optional, this is the default

      # App attribution headers (optional - shown in OpenRouter console)
      # These defaults are used if not specified:
      # site_url: "https://github.com/tgrecojr/slacklistener"  # Your app URL for rankings
      # site_name: "slacklistener"  # Your app name shown in OpenRouter console

    system_prompt: |
      You are a helpful support assistant. When users report issues,
      provide clear, actionable guidance. Be friendly and professional.

    response:
      thread_reply: true
      add_reaction: "eyes"

  # Example 2: Using Claude 3.5 Haiku for faster responses
  - channel_id: "C02345678"
    channel_name: "sales-inquiries"
    enabled: true
    keywords:
      - "pricing"
      - "quote"
      - "demo"
      - "purchase"
    case_sensitive: false

    # LLM configuration - Fast model
    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-haiku"
      max_tokens: 512
      temperature: 0.5

    system_prompt: |
      You are a sales assistant. Provide helpful information about
      pricing and product features. Direct complex inquiries to the sales team.

    response:
      thread_reply: true
      add_reaction: "moneybag"

  # Example 3: Using GPT-4 via OpenRouter
  - channel_id: "C03456789"
    channel_name: "general-chat"
    enabled: true
    keywords: ["chatbot", "ai", "question"]
    case_sensitive: false

    # LLM configuration - OpenAI model via OpenRouter
    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "openai/gpt-4o"
      max_tokens: 1024
      temperature: 0.7

    system_prompt: |
      You are a helpful AI assistant in a company chat.
      Provide clear, concise answers to questions.

    response:
      thread_reply: true
      add_reaction: "robot_face"

  # Example 4: Image analysis with Claude
  - channel_id: "C04567890"
    channel_name: "design-review"
    enabled: true
    keywords: []  # Empty = respond to all messages
    require_image: true  # Only respond to messages with images
    case_sensitive: false

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-sonnet"
      max_tokens: 2048
      temperature: 0.7

    system_prompt: |
      You are a professional design reviewer. Analyze uploaded images for:
      - UI/UX design quality and consistency
      - Accessibility issues (color contrast, font sizes)
      - Visual hierarchy and layout
      - Brand consistency
      Provide constructive, actionable feedback.

    response:
      thread_reply: true
      add_reaction: "eyes"

  # Example 5: Screenshot debugging
  - channel_id: "C05678901"
    channel_name: "bug-screenshots"
    enabled: true
    keywords: ["bug", "error", "broken"]
    require_image: false  # Respond to messages with or without images
    case_sensitive: false

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-sonnet"
      max_tokens: 1500
      temperature: 0.5

    system_prompt: |
      You are a debugging assistant. When users share screenshots of bugs:
      - Identify the error messages or UI issues visible
      - Suggest potential causes
      - Recommend debugging steps
      If there's text but no image, provide general debugging guidance.

    response:
      thread_reply: true
      add_reaction: "bug"

  # Example 6: Receipt/document processing
  - channel_id: "C06789012"
    channel_name: "receipts"
    enabled: true
    keywords: []
    require_image: true
    case_sensitive: false

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-sonnet"
      max_tokens: 1024
      temperature: 0.3

    system_prompt: |
      You are a document processing assistant. Extract key information from receipts/invoices:
      - Vendor name
      - Date
      - Total amount
      - Line items (if clearly visible)
      Format the output as a structured summary.

    response:
      thread_reply: true
      add_reaction: "receipt"

# Slash command configurations
slash_commands:
  # Example: /analyze command
  - command: "/analyze"
    description: "Analyze text or images with AI"
    enabled: true

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-sonnet"
      max_tokens: 2048
      temperature: 0.7

    system_prompt: |
      You are an analytical assistant. Provide thorough analysis
      of the provided content.

  # Example: /summarize command with faster model
  - command: "/summarize"
    description: "Summarize conversation or content"
    enabled: true

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-haiku"
      max_tokens: 500
      temperature: 0.3

    system_prompt: |
      You are a summarization expert. Create concise, accurate
      summaries of the provided content.

  # Example: /explain command with GPT-4
  - command: "/explain"
    description: "Explain complex topics simply"
    enabled: true

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "openai/gpt-4o"
      max_tokens: 1024
      temperature: 0.7

    system_prompt: |
      You are an expert explainer. Break down complex topics
      into simple, easy-to-understand explanations.

  # Example: /run command with OpenWeatherMap tool integration
  - command: "/run"
    description: "Get personalized running advice based on current weather"
    enabled: true

    llm:
      api_key: "${OPENROUTER_API_KEY}"
      model: "anthropic/claude-3.5-sonnet"
      max_tokens: 1024
      temperature: 0.7

    system_prompt: |
      You are a running and fitness coach. Based on the current and forecasted weather,
      provide advice on:
      - What to wear for the run
      - Best time to run today
      - Hydration recommendations
      - Any safety considerations
      Keep responses concise and actionable.

    # Tools to execute before LLM invocation
    tools:
      - type: "openweathermap"
        api_key: "${OPENWEATHERMAP_API_KEY}"
        location: "Boston,MA,US"  # City, State, Country
        # Alternatively, use coordinates:
        # latitude: 42.3601
        # longitude: -71.0589
        units: "imperial"  # imperial (F), metric (C), or standard (K)
        language: "en"

# Global settings
settings:
  # Log level: DEBUG, INFO, WARNING, ERROR
  log_level: "INFO"

  # Maximum message length to process (characters)
  max_message_length: 10000

  # Timeout for LLM API calls (seconds)
  llm_timeout: 30

  # Whether to process bot messages
  ignore_bot_messages: true

  # Whether to process messages from the app itself
  ignore_self: true
